<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BeerPulse Debug Mode</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body class="bg-black text-white p-10 font-mono">
    <h1 class="text-amber-500 text-2xl mb-5 font-bold">BeerPulse System Check</h1>
    
    <div id="debug-status" class="p-4 border border-gray-700 rounded mb-5 bg-gray-900">
        Status: <span id="status-text" class="text-blue-400">Connecting...</span>
    </div>

    <div id="data-display" class="space-y-4">
        </div>

    <script>
        const S_URL = 'https://kmviidvvmnugocchnmbu.supabase.co';
        const S_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImttdmlpZHZ2bW51Z29jY2hubWJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkwMTUxMDcsImV4cCI6MjA4NDU5MTEwN30.6tFyC7RA4_5B-lsuvKvPrjXTAekAOm6paQhWypKj38k';
        
        async function testConnection() {
            const statusLabel = document.getElementById('status-text');
            const display = document.getElementById('data-display');
            
            try {
                const _supabase = supabase.createClient(S_URL, S_KEY);
                statusLabel.innerText = "Connection initialized. Fetching data...";
                
                let { data, error } = await _supabase.from('live_feed').select('*');
                
                if (error) {
                    statusLabel.innerText = "Error: " + error.message;
                    statusLabel.className = "text-red-500";
                    console.error(error);
                } else {
                    statusLabel.innerText = "Success! Connected to Database.";
                    statusLabel.className = "text-green-500";
                    display.innerHTML = JSON.stringify(data, null, 2);
                }
            } catch (err) {
                statusLabel.innerText = "Fatal Error: " + err.message;
                statusLabel.className = "text-red-500";
            }
        }

        testConnection();
    </script>
</body>
</html>
